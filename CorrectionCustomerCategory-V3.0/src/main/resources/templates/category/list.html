<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <!-- V1.0 Il n'y a pratiquement rien de nouveau. Categorie devient Category  -->
    <head th:include="fragments/common :: [//head]" />
    <body>
        <div th:replace="fragments/menu"></div>
               
        <div class="container">
            <h1 th:text=#{Categories}>Catégories</h1>
            <ul>
                <!-- V1.0 La liste d'items des catégories est créée à l'aide de th:each -->
                <!-- V1.0 qui parcourt les catégories (la liste envoyée par le modèle) -->
                <li th:each="category : ${categories}">
                    <span th:text="${category.name}"></span>                   
                    <a th:href="@{/category/edit(id=${category.id})}"><i class="fa fa-pencil"></i></a>                
                    <a  th:href="@{'/category/delete/' + ${category.id}}"><i class="fa fa-remove"></i></a>
                </li>
            </ul>
        <!-- V2.3 Des actions sont possibles sur ce formulaire, comme supprimer
        ou mettre à jour une catégorie. Mais des erreurs peuvent survenir, par
        exemple la suppression d'une catégorie associée à un client est impossible.
        Sa tentative engendre une exception. C'est pourquoi un message d'erreur
        (error-msg) est possible. Il est traité s'il existe. 
        th:text="#{${error-msg}
        -->
        <p th:if="${error}" th:text="#{${error}}">ERROR</p>
            <!-- V1.0 Un bouton pour ouvrir la page de création de catégories -->
            <a th:href="@{/category/create}" th:text="#{CREER UNE NOUVELLE CATEGORIE}" class="btn btn-success">Créer une nouvelle catégorie</a>        
        </div>
        <div th:replace="fragments/common :: [//div[@class='footer']]"></div>        
        <div th:replace="fragments/common :: [//div[@id='scripts']]"></div>	
    </body>
</html>

    